<h3 class="page-header">
    <b>Assign Product to {{'Channel' | i18next}}</b>
</h3>
<div class="row">
    <div class="form-group edit-button-group">
        <button type="button" class="btn btn-default" ui-sref="^"><i class="fa fa-arrow-left"></i> Back</button>
        <button type="button" class="btn btn-primary" ng-click="productAssignments.submit()" user-permissions pbit="4" pobj="products">Update Product Assignments</button>
    </div>
</div>
<div class="well well-lg text-center" ng-if="!productAssignments.list.Items.length">
    <b>None found.</b>
</div>
<section class="table-fixed-header" ng-if="productAssignments.list.Items.length">
    <div class="table-header-bg"></div>
    <div class="table-container" ordercloud-infinite-scroll servicename="Products" controlleras="productAssignments" idname="ProductID" disable-dynamic-validation>
        <table class="table table-hover">
            <colgroup>
                <col class="action-column" />
            </colgroup>
            <thead>
                <tr>
                    <th>
                        <div ng-click="productAssignments.sortBy('Name')">Name <span class="sortorder" ng-show="productAssignments.propertyName === 'Name'" ng-class="{reverse: productAssignments.reverse}"></span></div>
                    </th>
                    <th>
                        <div class="input-group">
                            <label class="text-center" ng-click="productAssignments.sortBy('selected')">Assigned <input type="checkbox" ng-change="productAssignments.toggleSelectAll()" ng-model="productAssignments.selectAll" /><span class="sortorder" ng-show="productAssignments.propertyName === 'selected'" ng-class="{reverse: productAssignments.reverse}"></span></label>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="buyer in productAssignments.list.Items | orderBy:productAssignments.propertyName:productAssignments.reverse track by $index" ng-if="buyer.ID !== 'orderagent'">
                    <td>{{buyer.Name}}</td>
                    <td>
                        <input name="{{'product_assign_' + $index}}" type="checkbox" ng-model="buyer.selected">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</section>